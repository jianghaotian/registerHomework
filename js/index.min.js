var userName=document.getElementById("TANGRAM__PSP_4__userName"),userNameErr=document.getElementById("TANGRAM__PSP_4__userNameError"),phone=document.getElementById("TANGRAM__PSP_4__phone"),phoneErr=document.getElementById("TANGRAM__PSP_4__phoneError"),password=document.getElementById("TANGRAM__PSP_4__password"),passwordErr=document.getElementById("TANGRAM__PSP_4__passwordError"),verifyCode=document.getElementById("TANGRAM__PSP_4__verifyCode"),verifyCodeErr=document.getElementById("TANGRAM__PSP_4__verifyCodeError"),verifyCodeSend=document.getElementById("TANGRAM__PSP_4__verifyCodeSend"),submit=document.getElementById("TANGRAM__PSP_4__submit"),form=document.getElementById("TANGRAM__PSP_4__form");function addError(e,r,o){e.classList.add("pass-text-input-error"),r.innerText=o,r.style.display="block"}function removeError(e,r){e.classList.remove("pass-text-input-error"),r.style.display="none",r.innerText=""}function checkUserName(){var e=(e=userName.value).replace(/\s/g,"");if(""===(userName.value=e))return 1;for(var r=0,o=0;o<e.length;o++)e.charCodeAt(o)<0||255<e.charCodeAt(o)?r+=2:r++;if(14<r)return addError(userName,userNameErr,"用户名不能超过7个汉字或14个字符"),-1;return!0!==/^[0-9a-zA-Z_\u4e00-\u9fa5]+$/.test(e)||!1!==/^[0-9]+$/.test(e)?(addError(userName,userNameErr,"用户名仅支持中英文、数字和下划线,且不能为纯数字"),-2):0}function checkPhone(){var e=phone.value;if(""===e)return 1;return!1===/^[1][0-9]{10}$/.test(e)?(addError(phone,phoneErr,"手机号码格式不正确"),-1):void 0}function checkPassword(){var e=password.value;if(""===e)return 1;return!1===/((?=.*\d)(?=.*\D)|(?=.*[a-zA-Z])(?=.*[^a-zA-Z]))(?!^.*[\u4E00-\u9FA5].*$)^\S{8,14}$/.test(e)?(addError(password,passwordErr,"密码设置不符合要求"),-1):void 0}function checkVerifyCode(){var e=(e=verifyCode.value).replace(/\s/g,"");if(""===(verifyCode.value=e))return 1}form.onsubmit=function(){event.preventDefault(),1===checkUserName()&&addError(userName,userNameErr,"用户名不能为空"),1===checkPhone()&&addError(phone,phoneErr,"手机号不能为空"),1===checkPassword()&&addError(password,passwordErr,"密码不能为空"),1===checkVerifyCode()&&addError(verifyCode,verifyCodeErr,"验证码不能为空")},userName.onfocus=function(){removeError(userName,userNameErr)},phone.onfocus=function(){removeError(phone,phoneErr)},password.onfocus=function(){removeError(password,passwordErr)},verifyCode.onfocus=function(){removeError(verifyCode,verifyCodeErr)},userName.onblur=function(){checkUserName()},phone.onblur=function(){checkPhone()},password.onblur=function(){checkPassword()},verifyCode.onblur=function(){checkVerifyCode()},verifyCodeSend.onclick=function(){verifyCodeSend.disabled=!0;var e=10;verifyCodeSend.value="重发验证("+e+"秒)";var r=setInterval(function(){e--,verifyCodeSend.value="重发验证("+e+"秒)",e<0&&(clearInterval(r),verifyCodeSend.disabled=!1,verifyCodeSend.value="重发验证",addError(verifyCode,verifyCodeErr,"请求超时，请稍后再试"))},1e3)};